<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Portal - My Achievements</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="portal-layout">
        <aside class="sidebar">
            <div class="logo">Student Portal</div>
            <nav>
                <a href="student-dashboard.html" class="active">üèÖ My Achievements</a>
                </nav>
            <a href="index.html" class="logout-btn">Log Out</a>
        </aside>

        <main class="content-area">
            <h2>üèÖ My Achievements</h2>
            
            <button class="btn primary-btn" onclick="document.getElementById('upload-form').style.display='block'">
                + Submit New Achievement
            </button>

            <section id="upload-form" class="card-section" style="display:none; margin-top: 20px;">
                <h3>New Achievement Submission</h3>
                <form onsubmit="submitAchievement(event)">
                    <label for="achieve-name">Achievement Name/Title</label>
                    <input type="text" id="achieve-name" required>

                    <label for="achieve-date">Date Achieved</label>
                    <input type="date" id="achieve-date" required>
                    
                    <label for="description">Description</label>
                    <textarea id="description" rows="3" placeholder="Briefly describe the achievement and what you did."></textarea>
                    
                    <label for="proof">Upload Proof (Certificate, Photo)</label>
                    <input type="file" id="proof">

                    <button type="submit" class="btn primary-btn">Submit for Review</button>
                    <button type="button" class="btn secondary-btn" onclick="document.getElementById('upload-form').style.display='none'">Cancel</button>
                </form>
            </section>
            
            <section class="achievements-list" style="margin-top: 30px;">
                <h3>My Current Accomplishments</h3>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Title</th>
                            <th>Date</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="achievement-table-body">
                        <tr id="achieve-1">
                            <td>District Robotics Competition - 1st Place</td>
                            <td>2025-10-15</td>
                            <td><span style="color: green;">Approved</span></td>
                            <td>
                                <button class="btn secondary-btn small" onclick="viewDetails('achieve-1')">View</button>
                                <button class="btn secondary-btn small delete-btn" onclick="deleteAchievement('achieve-1')">Delete</button>
                            </td>
                        </tr>
                        <tr id="achieve-2">
                            <td>School Debate Team - Participation</td>
                            <td>2025-11-01</td>
                            <td><span style="color: orange;">Pending Review</span></td>
                            <td>
                                <button class="btn secondary-btn small" onclick="viewDetails('achieve-2')">View</button>
                                <button class="btn secondary-btn small delete-btn" onclick="deleteAchievement('achieve-2')">Delete</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </section>

        </main>
    </div>

    <script>
        let achievementCounter = 2; // Start counter after existing mock IDs
        
        // --- SUBMIT ACHIEVEMENT FUNCTION ---
        function submitAchievement(event) {
            event.preventDefault(); // Stop form submission
            
            const title = document.getElementById('achieve-name').value;
            const date = document.getElementById('achieve-date').value;
            // Proof and description are captured here but would be sent to the server in a real app

            achievementCounter++;
            const newId = 'achieve-' + achievementCounter;

            const tableBody = document.getElementById('achievement-table-body');
            const newRow = tableBody.insertRow(0); // Add new entry to the top
            newRow.id = newId;
            
            newRow.innerHTML = `
                <td>${title}</td>
                <td>${date}</td>
                <td><span style="color: orange;">Pending Review</span></td>
                <td>
                    <button class="btn secondary-btn small" onclick="viewDetails('${newId}')">View</button>
                    <button class="btn secondary-btn small delete-btn" onclick="deleteAchievement('${newId}')">Delete</button>
                </td>
            `;

            // Inform the user and reset the form
            alert(`‚úÖ Achievement "${title}" submitted successfully for review!`);
            event.target.reset();
            document.getElementById('upload-form').style.display = 'none'; // Hide form after submission
        }

        // --- DELETE ACHIEVEMENT FUNCTION ---
        function deleteAchievement(id) {
            if (confirm("Are you sure you want to delete this achievement submission?")) {
                const row = document.getElementById(id);
                if (row) {
                    row.remove();
                    alert(`Submission ${id} deleted.`);
                }
            }
        }
        
        // --- VIEW DETAILS FUNCTION (Placeholder) ---
        function viewDetails(id) {
            alert(`Viewing detailed proof and information for achievement ID: ${id}. (In a real application, a modal would open here to show the details and uploaded files.)`);
        }
    </script>
</body>
</html>